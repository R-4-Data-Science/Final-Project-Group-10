"0","set.seed(2)"
"0","n <- 200; p <- 6"
"0","Xb <- matrix(rnorm(n*p), n, p)"
"0","linpred <- 1.2*Xb[,1] - 1*Xb[,2] + 0.8*Xb[,5]"
"0","prob <- 1 / (1 + exp(-linpred))"
"0","ybin <- rbinom(n, 1, prob)"
"0","colnames(Xb) <- paste0(""x"", 1:p)"
"0","dfb <- as.data.frame(cbind(y = ybin, Xb))"
"0",""
"0","# Compare intercept-only vs. adding one variable by AIC:"
"0","fit0 <- glm(y ~ 1, family = binomial(), data = dfb)"
"0","aic0 <- AIC(fit0)"
"0","fits1 <- lapply(1:p, function(j) glm(as.formula(paste0(""y ~ "", colnames(Xb)[j])),"
"0","                                     family = binomial(), data = dfb))"
"0","aics1 <- sapply(fits1, AIC)"
"0","head(data.frame(variable = colnames(Xb), AIC = aics1)[order(aics1), ], 5)"
